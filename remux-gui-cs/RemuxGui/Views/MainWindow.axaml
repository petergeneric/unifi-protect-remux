<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:RemuxGui.ViewModels"
        xmlns:conv="using:RemuxGui.Converters"
        xmlns:views="using:RemuxGui.Views"
        x:Class="RemuxGui.Views.MainWindow"
        x:DataType="vm:MainViewModel"
        Title="UBV Remux"
        Width="1000" Height="640"
        MinWidth="700" MinHeight="480"
        DragDrop.AllowDrop="True">

    <Window.Resources>
        <conv:ViewIndexConverter x:Key="ViewIndexConverter" />
    </Window.Resources>

    <DockPanel>
        <!-- Left Sidebar -->
        <Border DockPanel.Dock="Left" Width="200"
                BorderThickness="0,0,1,0"
                BorderBrush="{DynamicResource SystemControlForegroundBaseMediumLowBrush}">
            <DockPanel>
                <!-- Brand header -->
                <Border DockPanel.Dock="Top" Padding="16,14"
                        BorderThickness="0,0,0,1"
                        BorderBrush="{DynamicResource SystemControlForegroundBaseMediumLowBrush}">
                    <TextBlock Text="UBV Remux" FontSize="17" FontWeight="SemiBold" />
                </Border>

                <!-- Version footer -->
                <Border DockPanel.Dock="Bottom" Padding="16,10"
                        BorderThickness="0,1,0,0"
                        BorderBrush="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"
                        x:Name="VersionFooter">
                    <TextBlock Text="{Binding VersionString}"
                               FontSize="11"
                               Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                               Cursor="Hand" />
                </Border>

                <!-- Nav items -->
                <StackPanel Margin="8,8" Spacing="2">
                    <Button Classes="nav-item"
                            Command="{Binding SetViewCommand}"
                            CommandParameter="0"
                            Background="{Binding CurrentView, Converter={StaticResource ViewIndexConverter}, ConverterParameter=0}">
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <TextBlock Text="&#x25F2;" FontSize="15" VerticalAlignment="Center" />
                            <TextBlock Text="Files" VerticalAlignment="Center" />
                        </StackPanel>
                    </Button>
                    <Button Classes="nav-item"
                            Command="{Binding SetViewCommand}"
                            CommandParameter="1"
                            Background="{Binding CurrentView, Converter={StaticResource ViewIndexConverter}, ConverterParameter=1}">
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <TextBlock Text="&#x2699;" FontSize="15" VerticalAlignment="Center" />
                            <TextBlock Text="Settings" VerticalAlignment="Center" />
                        </StackPanel>
                    </Button>
                    <Button Classes="nav-item"
                            Command="{Binding SetViewCommand}"
                            CommandParameter="2"
                            Background="{Binding CurrentView, Converter={StaticResource ViewIndexConverter}, ConverterParameter=2}">
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <TextBlock Text="&#x2630;" FontSize="15" VerticalAlignment="Center" />
                            <TextBlock Text="Log" VerticalAlignment="Center" />
                        </StackPanel>
                    </Button>
                    <Button Classes="nav-item"
                            Command="{Binding SetViewCommand}"
                            CommandParameter="3"
                            Background="{Binding CurrentView, Converter={StaticResource ViewIndexConverter}, ConverterParameter=3}">
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <TextBlock Text="&#x25A3;" FontSize="15" VerticalAlignment="Center" />
                            <TextBlock Text="Cameras" VerticalAlignment="Center" />
                        </StackPanel>
                    </Button>
                </StackPanel>
            </DockPanel>
        </Border>

        <!-- Content area: three views, visibility-toggled -->
        <Grid>
            <views:FilesView IsVisible="{Binding CurrentView, Converter={StaticResource ViewIndexConverter}, ConverterParameter=0}" />
            <views:SettingsView IsVisible="{Binding CurrentView, Converter={StaticResource ViewIndexConverter}, ConverterParameter=1}" />
            <views:LogView IsVisible="{Binding CurrentView, Converter={StaticResource ViewIndexConverter}, ConverterParameter=2}" />
            <views:CamerasView IsVisible="{Binding CurrentView, Converter={StaticResource ViewIndexConverter}, ConverterParameter=3}" />
        </Grid>
    </DockPanel>
</Window>
